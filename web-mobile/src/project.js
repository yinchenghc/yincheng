require=function e(t,s,r){function n(o,a){if(!s[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var u=s[o]={exports:{}};t[o][0].call(u.exports,function(e){var s=t[o][1][e];return n(s||e)},u,u.exports,e,t,s,r)}return s[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({GameScene:[function(e,t,s){"use strict";cc._RF.push(t,"bf8fdp5h95CjqUFD3AQKTGB","GameScene");var r=e("PrefabManager");cc.Class({extends:cc.Component,properties:{prefabManager:r,powerProgressBar:cc.Node,gameOverMask:cc.Node,gameOverMenu:cc.Node,gamePauseMenu:cc.Node,currentRecord:cc.Label,overRecord:cc.Label,highesRecord:cc.Label},onNumberBtnClicked:function(){this.setProgressBar(.2)},onRemoveBtnFinished:function(e){this.setProgressBar(-.2),this.updateCurrentRecord(e[0]*e[1]*10)},onLoad:function(){var e=this;this.prefabManager.node.on("NumberBtnClicked",function(t){t.stopPropagation(),e.onNumberBtnClicked()}),this.prefabManager.node.on("removeBtnFinished",function(t){t.stopPropagation();var s=t.getUserData();e.onRemoveBtnFinished(s)}),this.prefabManager.node.on("CheckProgressValue",function(t){t.stopPropagation(),e.checkProgressValue()}),this.score=0;var t=cc.sys.localStorage.getItem("bestScore");t&&(this.highesRecord.string=t),this.prefabManager.init()},checkProgressValue:function(){1===this.powerProgressBar.getComponent(cc.ProgressBar).progress&&this.stopGame()},setProgressBar:function(e){var t=this.powerProgressBar.getComponent(cc.ProgressBar).progress+e;t<0?this.powerProgressBar.getComponent(cc.ProgressBar).progress=0:t>=1?this.powerProgressBar.getComponent(cc.ProgressBar).progress=1:this.powerProgressBar.getComponent(cc.ProgressBar).progress+=e,this.updateProgressBarColor()},updateProgressBarColor:function(){var e,t=this.powerProgressBar.getComponent(cc.ProgressBar).progress;e=t>=.8?"progressr":t>=.4?"progressy":"progress";var s=this;cc.loader.loadRes("Texture/tapmeSprites",cc.SpriteAtlas,function(t,r){if(t)cc.error(t.message||t);else{var n=r.getSpriteFrame(e);s.powerProgressBar.getComponent(cc.Sprite).spriteFrame=n}})},stopGame:function(){var e="el_"+this.prefabManager.currentMaxNumber,t=this;cc.loader.loadRes("Texture/tapmeSprites",cc.SpriteAtlas,function(s,r){if(s)cc.error(s.message||s);else{var n=r.getSpriteFrame(e);t.gameOverMenu.getChildByName("HigherstNumber").getComponent(cc.Sprite).spriteFrame=n}}),this.gameOverMask.active=!0,this.gameOverMenu.active=!0,this.prefabManager.gameOver(),this.overRecord.string=this.score,cc.find("Record").getComponent("Record").updateScore(this.score)},updateCurrentRecord:function(e){this.score+=e,this.score>parseInt(this.highesRecord.string)&&(this.highesRecord.string=this.score),this.processRecordIncreaseAction(e)},processRecordIncreaseAction:function(e){if(!(e<=0)){var t=e-1,s=cc.callFunc(function(e,t){this.processRecordIncreaseAction(t)},this,t),r=cc.callFunc(function(){this.currentRecord.string=parseInt(this.currentRecord.string)+1},this),n=cc.sequence(r,cc.delayTime(1e-4),s);this.node.runAction(n)}},restartGame:function(){cc.director.loadScene("GameScene")},returnStartScene:function(){cc.director.loadScene("StartScene")},pauseGame:function(){this.gameOverMask.active=!0,this.gamePauseMenu.active=!0},returnGame:function(){this.gameOverMask.active=!1,this.gamePauseMenu.active=!1}}),cc._RF.pop()},{PrefabManager:"PrefabManager"}],Image:[function(e,t,s){"use strict";cc._RF.push(t,"0e47dkFAWROzbzmWy1HU8SL","Image"),t.exports={num1Normal:"//assets/Texture/tapmeSprites.plist/el_1.png",num1Pressed:"//assets/Texture/tapmeSprites.plist/el_1tap.png",num2Normal:"//assets/Texture/tapmeSprites.plist/el_2.png",num2Pressed:"//assets/Texture/tapmeSprites.plist/el_2tap.png",num3Normal:"//assets/Texture/tapmeSprites.plist/el_3.png",num3Pressed:"//assets/Texture/tapmeSprites.plist/el_3tap.png",num4Normal:"//assets/Texture/tapmeSprites.plist/el_4.png",num4Pressed:"//assets/Texture/tapmeSprites.plist/el_4tap.png",num5Normal:"//assets/Texture/tapmeSprites.plist/el_5.png",num5Pressed:"//assets/Texture/tapmeSprites.plist/el_5tap.png",num6Normal:"//assets/Texture/tapmeSprites.plist/el_6.png",num6Pressed:"//assets/Texture/tapmeSprites.plist/el_6tap.png",num7Normal:"//assets/Texture/tapmeSprites.plist/el_7.png",num7Pressed:"//assets/Texture/tapmeSprites.plist/el_7tap.png",num8Normal:"//assets/Texture/tapmeSprites.plist/el_8.png",num8Pressed:"//assets/Texture/tapmeSprites.plist/el_8tap.png",num9Normal:"//assets/Texture/tapmeSprites.plist/el_9.png",num9Pressed:"//assets/Texture/tapmeSprites.plist/el_9tap.png",num10Normal:"//assets/Texture/tapmeSprites.plist/el_10.png",num10Pressed:"//assets/Texture/tapmeSprites.plist/el_10tap.png",num11Normal:"//assets/Texture/tapmeSprites.plist/el_11.png",num11Pressed:"//assets/Texture/tapmeSprites.plist/el_11tap.png",num12Normal:"//assets/Texture/tapmeSprites.plist/el_12.png",num12Pressed:"//assets/Texture/tapmeSprites.plist/el_12tap.png",num13Normal:"//assets/Texture/tapmeSprites.plist/el_13.png",num13Pressed:"//assets/Texture/tapmeSprites.plist/el_13tap.png",num14Normal:"//assets/Texture/tapmeSprites.plist/el_14.png",num14Pressed:"//assets/Texture/tapmeSprites.plist/el_14tap.png",num15Normal:"//assets/Texture/tapmeSprites.plist/el_15.png",num15Pressed:"//assets/Texture/tapmeSprites.plist/el_15tap.png",num16Normal:"//assets/Texture/tapmeSprites.plist/el_16.png",num16Pressed:"//assets/Texture/tapmeSprites.plist/el_16tap.png",num17Normal:"//assets/Texture/tapmeSprites.plist/el_17.png",num17Pressed:"//assets/Texture/tapmeSprites.plist/el_17tap.png",num18Normal:"//assets/Texture/tapmeSprites.plist/el_18.png",num18Pressed:"//assets/Texture/tapmeSprites.plist/el_18tap.png",num19Normal:"//assets/Texture/tapmeSprites.plist/el_19.png",num19Pressed:"//assets/Texture/tapmeSprites.plist/el_19tap.png",num20Normal:"//assets/Texture/tapmeSprites.plist/el_20.png",num20Pressed:"//assets/Texture/tapmeSprites.plist/el_20tap.png",num21Normal:"//assets/Texture/tapmeSprites.plist/el_21.png",num21Pressed:"//assets/Texture/tapmeSprites.plist/el_21tap.png",num22Normal:"//assets/Texture/tapmeSprites.plist/el_22.png",num22Pressed:"//assets/Texture/tapmeSprites.plist/el_22tap.png",num23Normal:"//assets/Texture/tapmeSprites.plist/el_23.png",num23Pressed:"//assets/Texture/tapmeSprites.plist/el_23tap.png",num24Normal:"//assets/Texture/tapmeSprites.plist/el_24.png",num24Pressed:"//assets/Texture/tapmeSprites.plist/el_24tap.png",num25Normal:"//assets/Texture/tapmeSprites.plist/el_25.png",num25Pressed:"//assets/Texture/tapmeSprites.plist/el_25tap.png",num26Normal:"//assets/Texture/tapmeSprites.plist/el_26.png",num26Pressed:"//assets/Texture/tapmeSprites.plist/el_26tap.png",num27Normal:"//assets/Texture/tapmeSprites.plist/el_27.png",num27Pressed:"//assets/Texture/tapmeSprites.plist/el_27tap.png",num28Normal:"//assets/Texture/tapmeSprites.plist/el_28.png",num28Pressed:"//assets/Texture/tapmeSprites.plist/el_28tap.png",num29Normal:"//assets/Texture/tapmeSprites.plist/el_29.png",num29Pressed:"//assets/Texture/tapmeSprites.plist/el_29tap.png",num30Normal:"//assets/Texture/tapmeSprites.plist/el_30.png",num30Pressed:"//assets/Texture/tapmeSprites.plist/el_30tap.png"},cc._RF.pop()},{}],NumberBtn:[function(e,t,s){"use strict";cc._RF.push(t,"b53a5yyc+lOKamjCHgY1ste","NumberBtn"),cc.Class({extends:cc.Component,properties:{currentNumber:0,row:-1,col:-1},init:function(e,t,s){this.node.opacity=0,this.row=e,this.col=t;var r,n=(-2+t)*this.node.width;!0===s?r=2*this.node.height:!1===s&&(r=3*this.node.height),this.node.setPosition(n,r),this.currentNumber=Math.floor(5*Math.random()+1),this.updateSpriteFrame()},addOne:function(){this.currentNumber+=1,this.updateSpriteFrame()},onBtnClicked:function(){this.addOne();var e=new cc.Event.EventCustom("NumberBtnClicked",!0);e.setUserData([this.row,this.col]),this.node.dispatchEvent(e)},updateSpriteFrame:function(){var e="el_"+this.currentNumber,t="el_"+this.currentNumber+"tap",s=this;cc.loader.loadRes("Texture/tapmeSprites",cc.SpriteAtlas,function(r,n){if(r)cc.error(r.message||r);else{var i=n.getSpriteFrame(e),o=n.getSpriteFrame(t);s.node.getComponent(cc.Button).normalSprite=i,s.node.getComponent(cc.Button).pressedSprite=o}})},moveTo:function(e,t,s){var r=(-2+t)*this.node.width,n=(2-e)*this.node.height;this.node.stopActionByTag(1);var i=cc.spawn(cc.moveTo(.3,r,n),cc.fadeIn(.3));i.setTag(1),void 0!==s?s.push([this.row,this.col,i]):this.node.runAction(i),this.row=e,this.col=t},onLoad:function(){}}),cc._RF.pop()},{}],PowerProgressBar:[function(e,t,s){"use strict";cc._RF.push(t,"f60e6XNaN9LjL9RjYClksYO","PowerProgressBar"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],PrefabManager:[function(e,t,s){"use strict";cc._RF.push(t,"13948ONzBlPrIzkTg4dNOxy","PrefabManager");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};cc.Class({extends:cc.Component,properties:{numberBtnPre:cc.Prefab,numberBtnLayer:cc.Node,numberBtnArray:{default:null,type:Array},sameNumber:0},init:function(){this.numberBtnArray=[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null]],this.Directions={Up:"Up",Down:"Down",Left:"Left",Right:"Right",None:"None"},this.currentMaxNumber=0,this.numberBtnPool=new cc.NodePool;for(t=0;t<25;t++)this.numberBtnPool.put(cc.instantiate(this.numberBtnPre));for(var e=new Array,t=0;t<25;++t){var s=parseInt(t/5),r=t%5;this.addNumberBtn(s,r,e,!0)}e.reverse(),this.numberBtnLayer.pauseSystemEvents(!0),this.processSynchAddBtnAction(e,0)},processSynchAddBtnAction:function(e,t){if(t>=e.length)this.node.emit("AddNewBtnFinished");else{var s=e[t][0],r=e[t][1],n=cc.callFunc(function(e,t){this.processSynchAddBtnAction(t[0],t[1])},this,[e,t+1]),i=cc.spawn(e[t][2],cc.sequence(cc.delayTime(.2),n));this.numberBtnArray[s][r].runAction(i)}},addNumberBtn:function(e,t,s,r){var n=this.numberBtnPool.get();this.numberBtnLayer.addChild(n),n.getComponent("NumberBtn").init(e,t,r),n.getComponent("NumberBtn").moveTo(e,t,s),this.numberBtnArray[e][t]=n;var i=n.getComponent("NumberBtn").currentNumber;i>this.currentMaxNumber&&(this.currentMaxNumber=i)},processRemoveAction:function(e,t,s,r){if(r>=s.length){this.numberBtnArray[e][t].getComponent("NumberBtn").addOne();var n=this.numberBtnArray[e][t].getComponent("NumberBtn").currentNumber;n>this.currentMaxNumber&&(this.currentMaxNumber=n);var i=new cc.Event.EventCustom("removeBtnFinished",!0);i.setUserData([n-1,this.sameNumber]),this.node.dispatchEvent(i);var o=new Array;return this.moveBtnDown(o),void this.processMoveBtnDownAction(o,0)}var a=s[r][0],c=s[r][1],p=cc.callFunc(function(e,t){this.numberBtnPool.put(this.numberBtnArray[t[0]][t[1]]),this.numberBtnArray[t[0]][t[1]]=null},this,[a,c]),u=cc.callFunc(function(e,t){this.processRemoveAction(t[0],t[1],t[2],t[3])},this,[e,t,s,r+1]),m=cc.sequence(s[r][2],p,u);this.numberBtnArray[a][c].runAction(m)},processAddBtnAction:function(e,t){if(t>=e.length)this.node.emit("AddNewBtnFinished");else{var s=e[t][0],r=e[t][1],n=cc.callFunc(function(e,t){this.processAddBtnAction(t[0],t[1])},this,[e,t+1]),i=cc.sequence(e[t][2],n);this.numberBtnArray[s][r].runAction(i)}},clearMatchingBtn:function(){for(var e=new Array,t=0;t<this.numberBtnArray.length;++t){for(var s=0;s<this.numberBtnArray[t].length;++s){var r=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];this.sameNumber=1;var n=this.numberBtnArray[t][s].getComponent("NumberBtn").currentNumber;if(this.scanBtn(t,s,n,this.Directions.None,e,r),this.sameNumber>=3){var i=new Array;this.removeBtn(t,s,this.Directions.None,r,i),this.processRemoveAction(t,s,i,0);break}}if(this.sameNumber>=3)break}this.sameNumber<3&&this.numberBtnLayer.resumeSystemEvents(!0)},arrDeepCopy:function(e){var t=[];for(var s in e)t[s]="object"===r(e[s])?this.arrDeepCopy(e[s]):e[s];return t},onNumberBtnClicked:function(e,t){cc.log("onNumberBtnClicked",[e,t]);var s=new cc.Event.EventCustom("NumberBtnClicked",!0);this.node.dispatchEvent(s),this.sameNumber=1;var r=this.numberBtnArray[e][t].getComponent("NumberBtn").currentNumber;r>this.currentMaxNumber&&(this.currentMaxNumber=r);var n=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];if(this.scanBtn(e,t,r,this.Directions.None,new Array,n),this.sameNumber>=3){this.numberBtnLayer.pauseSystemEvents(!0);var i=new Array;this.removeBtn(e,t,this.Directions.None,n,i),this.processRemoveAction(e,t,i,0)}else{var o=new cc.Event.EventCustom("CheckProgressValue",!0);this.node.dispatchEvent(o)}},operateFun:function(e){for(var t=0;t<this.numberBtnArray.length;++t)for(var s=0;s<this.numberBtnArray[t].length;++s)null==this.numberBtnArray[t][s]&&this.addNumberBtn(t,s,e,!1)},scanBtn:function(e,t,s,r,n,i){if(-1==n.indexOf(e+"-"+t)&&(n.push(e+"-"+t),this.Directions.Down!==r&&e<this.numberBtnArray.length-1&&-1===n.indexOf(e+1+"-"+t)&&(o=this.numberBtnArray[e+1][t].getComponent("NumberBtn").currentNumber)===s&&(i[e+1][t]=1,this.sameNumber+=1,this.scanBtn(e+1,t,s,this.Directions.Up,n,i)),this.Directions.Right!==r&&t<this.numberBtnArray[e].length-1&&-1===n.indexOf(e+"-"+(t+1))&&(o=this.numberBtnArray[e][t+1].getComponent("NumberBtn").currentNumber)===s&&(i[e][t+1]=1,this.sameNumber+=1,this.scanBtn(e,t+1,s,this.Directions.Left,n,i)),this.Directions.Left!==r&&t>0&&-1===n.indexOf(e+"-"+(t-1))&&(o=this.numberBtnArray[e][t-1].getComponent("NumberBtn").currentNumber)===s&&(i[e][t-1]=1,this.sameNumber+=1,this.scanBtn(e,t-1,s,this.Directions.Right,n,i)),this.Directions.Up!==r&&e>0&&-1===n.indexOf(e-1+"-"+t))){var o=this.numberBtnArray[e-1][t].getComponent("NumberBtn").currentNumber;o===s&&(i[e-1][t]=1,this.sameNumber+=1,this.scanBtn(e-1,t,s,this.Directions.Down,n,i))}},removeBtn:function(e,t,s,r,n){this.Directions.Down!==s&&e<r.length-1&&1===r[e+1][t]&&(r[e+1][t]=0,this.removeBtn(e+1,t,this.Directions.Up,r,n)),this.Directions.Right!==s&&t<r[e].length-1&&1===r[e][t+1]&&(r[e][t+1]=0,this.removeBtn(e,t+1,this.Directions.Left,r,n)),this.Directions.Left!==s&&t>0&&1===r[e][t-1]&&(r[e][t-1]=0,this.removeBtn(e,t-1,this.Directions.Right,r,n)),this.Directions.Up!==s&&e>0&&1===r[e-1][t]&&(r[e-1][t]=0,this.removeBtn(e-1,t,this.Directions.Down,r,n));var i=e,o=t;switch(s){case this.Directions.Up:i-=1;break;case this.Directions.Left:o-=1;break;case this.Directions.Right:o+=1;break;case this.Directions.Down:i+=1;break;case this.Directions.None:}i===e&&o==t||this.numberBtnArray[e][t].getComponent("NumberBtn").moveTo(i,o,n)},moveBtnDown:function(e){for(var t=this.numberBtnArray.length-1;t>=0;--t)for(var s=this.numberBtnArray[t].length-1;s>=0;--s)if(null!=this.numberBtnArray[t][s]){var r=[t,s];if(this.scanMovePositon(r),r[0]!==t){var n=new Array;this.numberBtnArray[r[0]][r[1]]=this.numberBtnArray[t][s],this.numberBtnArray[t][s]=null,this.numberBtnArray[r[0]][r[1]].getComponent("NumberBtn").moveTo(r[0],r[1],n),e.push([r[0],r[1],n[0][2]])}}},processMoveBtnDownAction:function(e,t){if(t>=e.length){var s=new Array;return this.operateFun(s),s.reverse(),void this.processSynchAddBtnAction(s,0)}var r=e[t][0],n=e[t][1],i=cc.callFunc(function(e,t){this.processMoveBtnDownAction(t[0],t[1])},this,[e,t+1]),o=cc.sequence(e[t][2],i);this.numberBtnArray[r][n].runAction(o)},scanMovePositon:function(e){if(e[0]+1<this.numberBtnArray.length){if(null!=this.numberBtnArray[e[0]+1][e[1]])return;e[0]+=1,this.scanMovePositon(e)}},gameOver:function(){this.numberBtnLayer.pauseSystemEvents(!0)},onLoad:function(){var e=this;this.numberBtnLayer.on("NumberBtnClicked",function(t){t.stopPropagation();var s=t.getUserData();s instanceof Array&&e.onNumberBtnClicked(s[0],s[1])}),this.node.on("AddNewBtnFinished",function(t){e.clearMatchingBtn()})}}),cc._RF.pop()},{}],Record:[function(e,t,s){"use strict";cc._RF.push(t,"2cd93pdMqtIiKKhTiOLa1D/","Record"),cc.Class({extends:cc.Component,properties:{bestScore:0},onLoad:function(){cc.game.addPersistRootNode(this.node);var e=cc.sys.localStorage.getItem("bestScore");e&&(this.bestScore=e)},updateScore:function(e){e>this.bestScore&&(this.bestScore=e,this.save())},save:function(){cc.sys.localStorage.setItem("bestScore",this.bestScore)}}),cc._RF.pop()},{}],StartScene:[function(e,t,s){"use strict";cc._RF.push(t,"7ad485hI8JKLYVtukmlbGez","StartScene"),cc.Class({extends:cc.Component,properties:{btnVoice:cc.Node,gameBgAudio:cc.AudioClip,highestRecord:cc.Label},onLoad:function(){this.highestRecord.string=cc.find("Record").getComponent("Record").bestScore,this.bIsVoiceOpen=cc.sys.localStorage.getItem("voiceStatus"),"true"===this.bIsVoiceOpen?this.bIsVoiceOpen=!0:"false"===this.bIsVoiceOpen?this.bIsVoiceOpen=!1:this.bIsVoiceOpen=!0,this.updateBtnVoicePic()},onBtnStartClicked:function(){cc.director.loadScene("GameScene")},onBtnVoiceClikced:function(){this.bIsVoiceOpen=!this.bIsVoiceOpen,this.updateBtnVoicePic(),cc.sys.localStorage.setItem("voiceStatus",this.bIsVoiceOpen)},updateBtnVoicePic:function(){var e,t;this.bIsVoiceOpen?(this.BgAudioID=cc.audioEngine.play(this.gameBgAudio,!0),e="soundoff",t="soundoffp"):(cc.audioEngine.stop(this.BgAudioID),e="soundon",t="soundonp");var s=this;cc.loader.loadRes("Texture/tapmeSprites",cc.SpriteAtlas,function(r,n){if(r)cc.error(r.message||r);else{var i=n.getSpriteFrame(e),o=n.getSpriteFrame(t);s.btnVoice.getComponent(cc.Button).normalSprite=i,s.btnVoice.getComponent(cc.Button).pressedSprite=o}})}}),cc._RF.pop()},{}]},{},["GameScene","Image","NumberBtn","PowerProgressBar","PrefabManager","Record","StartScene"]);